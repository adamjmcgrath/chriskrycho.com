<!DOCTYPE html>
<html lang="en">
<head>
    <title>Rust and Swift (ix) &middot; Chris Krycho</title>
    <meta name="description" content="I am reading through the Swift book, and comparing it to Rust, which I have also been learning over the past few months. As with the other posts in this series, these are off-the-cuff impressions, which may be inaccurate in various ways. I’d be happy to hear feedback! Note ..."/>

    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"/>

<link rel='me' href='https://alpha.app.net/chriskrycho' data-type='follow' data-user-id='@chriskrycho'/>    <meta property="og:url" content="http://www.chriskrycho.com/drafts/rust-and-swift-ix.html"/>
    <meta property="og:title" content="Rust and Swift (ix)"/>
    <meta property="og:description" content="I am reading through the Swift book, and comparing it to Rust, which I have also been learning over the past few months. As with the other posts in this series, these are off-the-cuff impressions, which may be inaccurate in various ways. I’d be happy to hear feedback! Note ..."/>
        <meta property="og:image" content="http://www.chriskrycho.com//assets/images/ck.png"/>
<link rel="author" href=""/>
<link rel="me" href=""/><meta name="twitter:card" content="summary"/>
<meta name="twitter:site" content="@chriskrycho"/>
<meta name="twitter:creator" content="@chriskrycho"/>
    <meta name="twitter:title" content="Rust and Swift (ix)"/>
    <meta name="twitter:description" content="I am reading through the Swift book, and comparing it to Rust, which I have also been learning over the past few months. As with the other posts in this series, these are off-the-cuff impressions, which may be inaccurate in various ways. I’d be happy to hear feedback! Note ..."/>
        <meta name="twitter:image" content="http://www.chriskrycho.com/assets/images/ck.png"/>
    <link rel="me" href="https://app.net/chriskrycho"/>
    <link rel="me" href="http://instagram.com/chriskrycho"/>
    <link rel="me" href="https://github.com/chriskrycho"/>
    <link rel="me" href="https://medium.com/@chriskrycho"/>
    <link rel="me" href="https://twitter.com/chriskrycho"/>
    <link rel="me" href="https://bitbucket.org/chriskrycho"/>
    <link rel="me" href="https://www.facebook.com/chriskrycho"/>
    <link rel="me" href="http://stackoverflow.com/users/564181/chris-krycho"/>
    <link rel="me" href="https://soundcloud.com/chriskrycho"/>
    <link rel="me" href="http://www.linkedin.com/in/chriskrycho"/>
    <link rel="me" href="https://vimeo.com/chriskrycho"/>

    <link rel="openid.delegate" href="http://www.chriskrycho.com/" />
    <link rel="openid.server" href="https://indieauth.com/openid" />

    <link rel="stylesheet" type="text/css" href="http://www.chriskrycho.com/assets/style.css"/>
    <link rel="stylesheet" type="text/css" href="http://www.chriskrycho.com/assets/fonts.css"/>
    <link rel="stylesheet" type="text/css" href="http://www.chriskrycho.com/assets/icons.css"/>

    <link href="/favicon.png" type="image/png" rel="icon" />
    <link href="/favicon.ico" type="image/ico" rel="icon" />

    <link rel="alternate" href="/feed.xml" type="application/rss+xml" title="All posts">
        <link rel="alternate" href="/feeds/art.xml" type="application/rss+xml" title="Posts filed in in 'Art''">
        <link rel="alternate" href="/feeds/blog.xml" type="application/rss+xml" title="Posts filed in in 'Blog''">
        <link rel="alternate" href="/feeds/micro.xml" type="application/rss+xml" title="Posts filed in in 'Micro''">
        <link rel="alternate" href="/feeds/talks.xml" type="application/rss+xml" title="Posts filed in in 'Talks''">
        <link rel="alternate" href="/feeds/tech.xml" type="application/rss+xml" title="Posts filed in in 'Tech''">
        <link rel="alternate" href="/feeds/Theology.xml" type="application/rss+xml" title="Posts filed in in 'Theology''">

    <script type="text/javascript" async src="/assets/js/mtiFontTrackingCode.js"></script>
</head>
<body>
    <header id="site-header">
        <div class="hgroup">
            <h1 id="site-title">
<a href="http://www.chriskrycho.com"><img class="logotype" src="/assets/images/ck.png" alt="ck"/>Chris Krycho</a>
</h1>

            <h2 id="site-subtitle">Creativity, reflection, & varied endeavors<br class="optional"/> by a peculiar fellow</h2>
        </div>

        <nav>
            <ul>
                <li class="section-title"><a href="http://www.chriskrycho.com/about.html">About</a></li>
                <li class="section-title art"><a href="http://www.chriskrycho.com/art/">art</a></li>
                <li class="section-title blog"><a href="http://www.chriskrycho.com/blog/">blog</a></li>
                <li class="section-title talks"><a href="http://www.chriskrycho.com/talks/">talks</a></li>
                <li class="section-title tech"><a href="http://www.chriskrycho.com/tech/">tech</a></li>
                <li class="section-title theology"><a href="http://www.chriskrycho.com/theology/">Theology</a></li>
            </ul>
        </nav>

    </header>


<article class="software-development listicles tech">

    <header>
<h1>Rust and Swift (ix)</h1>
<h2>Sum types (`enum`s) and more on pattern matching</h2>    </header>

    <div class="meta"><span class="date"><a href="http://www.chriskrycho.com/drafts/rust-and-swift-ix.html"><i class="fa fa-fw fa-link"></i></a>October 18, 2015</span><span class="section">Filed under <a class="section-title" href="http://www.chriskrycho.com/tech/">tech</a></span><span class="hashtag"><a class="hashtags" href="http://www.chriskrycho.com/software-development/">#software development</a><a class="hashtags" href="http://www.chriskrycho.com/listicles/">#listicles</a></span><span><a href="http://www.chriskrycho.com/2015/rust-and-swift-ix.txt">Markdown source</a></span></div>

    <div class="content-wrapper">


        <div class="content">

<p><i class="editorial">I am reading through the Swift book, and comparing it to Rust, which I have also been learning over the past few months. As with the other posts in this series, these are off-the-cuff impressions, which may be inaccurate in various ways. I’d be happy to hear feedback! Note, too, that my preferences are just that: preferences. Your tastes may differ from mine.</i></p>
<section id="parts-in-the-series" class="level2">
<h2>Parts in the Series</h2>
<ol type="1">
<li><a href="/2015/rust-and-swift-i.html">Thoughts after reading the introduction to the Swift book.</a></li>
<li><a href="/2015/rust-and-swift-ii.html">Basic types and the syntax around them.</a></li>
<li><a href="/2015/rust-and-swift-iii.html">Operators, including overloading, and thoughts on brevity.</a></li>
<li><a href="/2015/rust-and-swift-iv.html">Language design tradeoffs, highlighted by string manipulation.</a></li>
<li><a href="/2015/rust-and-swift-v.html">The value (and challenge) of learning languages in parallel.</a></li>
<li><a href="/2015/rust-and-swift-vi.html">Collection types and the difference between syntax and semantics.</a></li>
<li><a href="/2015/rust-and-swift-vii.html">Pattern matching and the value of expression blocks.</a></li>
<li><a href="/2015/rust-and-swift-viii.html">Functions, closures, and an awful lot of Swift syntax.</a></li>
<li>Sum types (<code>enum</code>s) and more on pattern matching</li>
</ol>
<hr />
<ul>
<li>Right off the bat when looking at the definitions for Swift’s and Rust’s <code>enum</code> types, a difference pops out: the use of the keyword <code>case</code> to introduce an enum member in Swift. In one sense, this overloads that keyword, but in another sense it’s fine: pattern matching and enums go hand in hand, so the use in both cases is fairly natural. Rust doesn’t have any special syntax to designate the elements of an enum; they’re just separated by commas.</li>
<li>I am not at all shocked to find that Swift has a variant syntax for its unit type case declarations, where a single <code>case</code> keyword precedes a list of comma-separated cases defined on a single line. (At this point, I would be more surprised <em>not</em> to find a variant syntax for something in Swift!)</li>
<li>Something truly wonderful about both a Rust and Swift: enumerated types aren’t just wrappers around integer values. They’re real types of their own. This is powerful.</li>
<li>Rust and Swift also share in having enumerated types that can hold values. The most prominent of these so far in the Swift book are optionals, the <code>Optional</code> enum type, corresponding very closely to Rust’s <code>Option</code> type. Having had these for a bit in playing with Rust, and having gotten familiar with the utility of types like these while reading [<em>Maybe Haskell</em>]—a delightful book which introduces Haskell and functional programming using Haskell’s <code>Maybe</code> type—I now miss them profoundly in languages which don’t have them.</li>
<li>Swift’s enum types don’t have integer values <em>by default</em>—but they can have them if you define a type and assign a value to each enum case at the definition. These “raw values” are distinct from the “associated values” noted just above. I expect these exist primarily for ease of interoperation with Objective-C.</li>
<li>Rust doesn’t have anything like this, at least that I can think of. The main place it would be useful would be for foreign function interfaces (as in Swift), and this is one of several such gaps in Rust, along with the lack of a straightforward way to map to C’s <code>union</code> types. There are trade offs in terms of adding the functionality to the language, though, as it substantially increases the complexity of what an enum value can be, I think.</li>
<li>Initialization of Swift’s raw-valued enum type is quite similar, and pleasantly so, to Python’s initialization of enums.</li>
<li><p>In a surprising change from the usual, Swift’s syntax for binding variable names when pattern matching against an enum is <em>more</em> verbose than Rust’s, requiring the use of either a leading <code>let</code> on the <code>case</code> statement if all the elements are of the same type, or a <code>let</code> in front of each element otherwise:</p>
<pre class="swift"><code></code></pre>
<p>In Rust, a matched pattern can simply bind its value directly:</p>
<pre class="rust"><code></code></pre></li>
</ul>
<hr />
<ul>
<li><a href="/2015/rust-and-swift-viii.html">Previous: Functions, closures, and an awful lot of Swift syntax.</a></li>
</ul>
<div id="refs" class="references">

</div>
</section>
        </div>
    </div>
</article>


    <footer id="site-footer"><section id="connect">
    <h2>Connect</h2>
    <ul class="icons">
        <li><a href="https://twitter.com/chriskrycho"><i class="fa fa-fw fa-twitter"></i>Twitter</a></li>
        <li><a href="https://github.com/chriskrycho"><i class="fa fa-fw fa-github"></i>GitHub</a></li>
        <li><a href="https://app.net/chriskrycho"><i class="fa fa-fw fa-adn"></i>App.net</a></li>
        <li><a href="https://soundcloud.com/chriskrycho"><i class="fa fa-fw fa-cloud"></i>SoundCloud</a></li>
        <li><a href="http://instagram.com/chriskrycho"><i class="fa fa-fw fa-instagram"></i>Instagram</a></li>
        <li><a href="http://www.linkedin.com/in/chriskrycho"><i class="fa fa-fw fa-linkedin"></i>LinkedIn</a></li>
        <li><a href="https://vimeo.com/chriskrycho"><i class="fa fa-fw fa-vimeo"></i>Vimeo</a></li>
        <li><a href="http://stackoverflow.com/users/564181/chris-krycho"><i class="fa fa-fw fa-stack-overflow"></i>Stack Overflow</a></li>
    </ul>
</section>
<section id="subscribe">
    <h2>Subscribe</h2>
    <ul class="icons">
        <li class="section-title">
            <a href="http://www.chriskrycho.com/feed.xml"><i class="fa fa-fw fa-rss"></i>Everything</a>
        </li>
        <li class="section-title">
            <a href="http://www.chriskrycho.com/feeds/art.xml"><i class="fa fa-fw fa-rss"></i>art</a>
        </li>
        <li class="section-title">
            <a href="http://www.chriskrycho.com/feeds/blog.xml"><i class="fa fa-fw fa-rss"></i>blog</a>
        </li>
        <li class="section-title">
            <a href="http://www.chriskrycho.com/feeds/micro.xml"><i class="fa fa-fw fa-rss"></i>micro</a>
        </li>
        <li class="section-title">
            <a href="http://www.chriskrycho.com/feeds/talks.xml"><i class="fa fa-fw fa-rss"></i>talks</a>
        </li>
        <li class="section-title">
            <a href="http://www.chriskrycho.com/feeds/tech.xml"><i class="fa fa-fw fa-rss"></i>tech</a>
        </li>
        <li class="section-title">
            <a href="http://www.chriskrycho.com/feeds/Theology.xml"><i class="fa fa-fw fa-rss"></i>Theology</a>
        </li>
    </ul>
</section>
<section id="recent">
    <h2>Recent</h2>
    <ul>
        <li>Art: <a href="http://www.chriskrycho.com/2015/two-podcast-themes.html">Two Podcast Themes</a></li>
        <li>Blog: <a href="http://www.chriskrycho.com/2015/how-i-became-a-runner.html">How I Became a Runner</a></li>
        <li>Talks: <a href="http://www.chriskrycho.com/2015/tolle-lege.html">Tolle Lege!</a></li>
        <li>Tech: <a href="http://www.chriskrycho.com/2015/css-fallback-for-opentype-small-caps.html">CSS Fallback for OpenType Small Caps</a></li>
        <li>Theology: <a href="http://www.chriskrycho.com/2015/a-range-of-prophets.html">A Range of Prophets</a></li>
    </ul>
</section></footer>

    <script type="text/javascript" src="/assets/js/highlight.pack.js"></script>
    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
    <script src="http://code.bib.ly/bibly.min.js"></script>
    <link href="http://code.bib.ly/bibly.min.css" rel="stylesheet" />
    <script type="text/javascript">
    var MTIProjectId='a34d2e31-99b5-469a-9b81-128fc0bd9745';
    </script>
</body>
</html>